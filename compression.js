(function(_0xfd0758,_0x294dd8){const _0x1d7d4d=_0x3f24,_0x19dc51=_0xfd0758();while(!![]){try{const _0x478d84=-parseInt(_0x1d7d4d(0x1db))/0x1+-parseInt(_0x1d7d4d(0x1cb))/0x2+-parseInt(_0x1d7d4d(0x1d1))/0x3+-parseInt(_0x1d7d4d(0x20e))/0x4+-parseInt(_0x1d7d4d(0x1da))/0x5+parseInt(_0x1d7d4d(0x1f0))/0x6*(-parseInt(_0x1d7d4d(0x1fb))/0x7)+parseInt(_0x1d7d4d(0x1dd))/0x8*(parseInt(_0x1d7d4d(0x1b8))/0x9);if(_0x478d84===_0x294dd8)break;else _0x19dc51['push'](_0x19dc51['shift']());}catch(_0x2b99c0){_0x19dc51['push'](_0x19dc51['shift']());}}}(_0x4226,0x80fb1));const MAX_DIMENSION=0xf00,MAX_FILE_SIZE=0xc8*0x400*0x400,QUALITY_LEVELS={'high':0.6,'medium':0.45,'low':0.25,'pdf':0.5};let compressedFile=null,originalFileSize=0x0,compressedFileSize=0x0,currentFileType=null;function validateFile(_0x3a5147){const _0xb4fbb2=_0x3f24;if(!_0x3a5147)return showError(_0xb4fbb2(0x1c4)),![];const _0x6a0cbc=[_0xb4fbb2(0x1fd),'image/png',_0xb4fbb2(0x1ee),_0xb4fbb2(0x1cd)];if(!_0x6a0cbc[_0xb4fbb2(0x1c7)](_0x3a5147[_0xb4fbb2(0x1d9)]))return showError(_0xb4fbb2(0x200)),![];if(_0x3a5147[_0xb4fbb2(0x208)]>MAX_FILE_SIZE)return showError(_0xb4fbb2(0x205)+MAX_FILE_SIZE/0x400/0x400+'MB)'),![];return!![];}function _0x4226(){const _0xf383f2=['Compression\x20failed\x20-\x20file\x20size\x20increased','fillRect','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-label\x22>Original</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-value\x22>','1872020toKgAl','beforeSize','none','result','promise','height','hidden','.error-text','7309386oQxgce','createObjectURL','Failed\x20to\x20read\x20file','canvas','src','png','Failed\x20to\x20get\x20canvas\x20context','getDocument','width','readAsDataURL','textContent','PDF','No\x20file\x20selected','jpeg','href','includes','PDFDocument','compressedBlob','style','508250irpsBP','pdfjsLib','application/pdf','display','\x20KB','errorMessage','921879iEDSfq','download','min','fileTypeLabel','pdfPreview','Image','PDF\x20compression\x20error:','medium','type','115540CXgklR','187950wtYcLI','getContext','24EeLSWN','querySelector','floor','afterSize','pdf','Processing\x20failed:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-label\x22>Compressed</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-value\x22>','#ffffff','toBlob','getElementById','PDF\x20libraries\x20not\x20loaded','stats','toFixed','createElement','toString','Unknown\x20error','getPage','image/webp','Compression\x20error:','1001514pbjnej','block','target','now','message','Image\x20processing\x20error','PDFLib','low','onload','addPage','preview','28tHfglm','embedJpg','image/jpeg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22stat-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-label\x22>Reduction</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22stat-value\x20success\x22>','innerHTML','Invalid\x20file\x20type\x20-\x20please\x20upload\x20an\x20image\x20or\x20PDF','arrayBuffer','create','high','drawImage','File\x20too\x20large\x20(max\x20','revokeObjectURL','Image\x20compression\x20failed','size','image/png'];_0x4226=function(){return _0xf383f2;};return _0x4226();}function calculateDimensions(_0x261a47,_0x33fd27){const _0x228666=_0x3f24,_0x186e4d=Math[_0x228666(0x1d3)](MAX_DIMENSION/_0x261a47,MAX_DIMENSION/_0x33fd27);return _0x186e4d<0x1?[Math['floor'](_0x261a47*_0x186e4d),Math[_0x228666(0x1df)](_0x33fd27*_0x186e4d)]:[_0x261a47,_0x33fd27];}function calculateQuality(_0x21cbe9){const _0x366487=_0x3f24;if(_0x21cbe9>0x32*0x400*0x400)return QUALITY_LEVELS[_0x366487(0x1f7)];if(_0x21cbe9>0x14*0x400*0x400)return QUALITY_LEVELS[_0x366487(0x1d8)];return QUALITY_LEVELS[_0x366487(0x203)];}async function compressImage(_0x3144b4){return new Promise((_0x3b19f1,_0x1e7f8d)=>{const _0x5780da=_0x3f24,_0x2f0a33=new FileReader(),_0x102d95=new Image();_0x2f0a33[_0x5780da(0x1f8)]=_0x4918af=>{const _0x53a06b=_0x5780da;if(!_0x4918af[_0x53a06b(0x1f2)]?.['result']){_0x1e7f8d(new Error(_0x53a06b(0x1ba)));return;}_0x102d95[_0x53a06b(0x1f8)]=()=>{const _0x2e5e42=_0x53a06b;try{const _0x54dc48=document[_0x2e5e42(0x1ea)]('canvas'),[_0xfdd3af,_0x206b94]=calculateDimensions(_0x102d95['width'],_0x102d95[_0x2e5e42(0x1b5)]);_0x54dc48[_0x2e5e42(0x1c0)]=_0xfdd3af,_0x54dc48[_0x2e5e42(0x1b5)]=_0x206b94;const _0x1cf70a=_0x54dc48[_0x2e5e42(0x1dc)]('2d');if(!_0x1cf70a){_0x1e7f8d(new Error(_0x2e5e42(0x1be)));return;}_0x3144b4[_0x2e5e42(0x1d9)]===_0x2e5e42(0x209)&&(_0x1cf70a['fillStyle']=_0x2e5e42(0x1e4),_0x1cf70a[_0x2e5e42(0x20b)](0x0,0x0,_0x54dc48[_0x2e5e42(0x1c0)],_0x54dc48[_0x2e5e42(0x1b5)]));_0x1cf70a[_0x2e5e42(0x204)](_0x102d95,0x0,0x0,_0xfdd3af,_0x206b94);const _0x5e5436=_0x3144b4[_0x2e5e42(0x1d9)]===_0x2e5e42(0x209)?'png':_0x2e5e42(0x1c5),_0x1cd1f9=_0x5e5436===_0x2e5e42(0x1bd)?Math['min'](QUALITY_LEVELS[_0x2e5e42(0x203)],0.8):calculateQuality(_0x3144b4[_0x2e5e42(0x208)]);_0x54dc48['toBlob'](_0x4a3aea=>{const _0x257747=_0x2e5e42;if(!_0x4a3aea){_0x1e7f8d(new Error(_0x257747(0x207)));return;}_0x4a3aea[_0x257747(0x208)]>=_0x3144b4['size']?_0x1e7f8d(new Error('Compression\x20not\x20effective')):_0x3b19f1({'compressedBlob':_0x4a3aea,'beforeSize':_0x3144b4[_0x257747(0x208)],'afterSize':_0x4a3aea[_0x257747(0x208)]});},_0x3144b4[_0x2e5e42(0x1d9)],_0x1cd1f9);}catch(_0x37573f){_0x1e7f8d(new Error(_0x2e5e42(0x1f5)));}},_0x102d95['onerror']=()=>_0x1e7f8d(new Error('Failed\x20to\x20load\x20image')),_0x102d95['src']=_0x4918af[_0x53a06b(0x1f2)][_0x53a06b(0x211)][_0x53a06b(0x1eb)]();},_0x2f0a33['onerror']=()=>_0x1e7f8d(new Error(_0x5780da(0x1ba))),_0x2f0a33[_0x5780da(0x1c1)](_0x3144b4);});}async function compressPDF(_0x2243e2){const _0x1dffaf=_0x3f24;try{if(!window[_0x1dffaf(0x1cc)]||!window[_0x1dffaf(0x1f6)])throw new Error(_0x1dffaf(0x1e7));const _0x121006=await _0x2243e2[_0x1dffaf(0x201)](),_0x16e6a7=window['pdfjsLib'][_0x1dffaf(0x1bf)]({'data':_0x121006}),_0x31c9e6=await _0x16e6a7[_0x1dffaf(0x212)],_0x5ab122=await window[_0x1dffaf(0x1f6)][_0x1dffaf(0x1c8)][_0x1dffaf(0x202)](),_0x2d2c94=0.75,_0x334d43=0x90;for(let _0x2252fa=0x1;_0x2252fa<=_0x31c9e6['numPages'];_0x2252fa++){const _0x3c1f6f=await _0x31c9e6[_0x1dffaf(0x1ed)](_0x2252fa),_0x36c72e=_0x3c1f6f['getViewport']({'scale':_0x2d2c94*(_0x334d43/0x48)}),_0x2dec97=document[_0x1dffaf(0x1ea)](_0x1dffaf(0x1bb)),_0x4ddbde=_0x2dec97[_0x1dffaf(0x1dc)]('2d');if(!_0x4ddbde)throw new Error(_0x1dffaf(0x1be));_0x2dec97[_0x1dffaf(0x1b5)]=_0x36c72e[_0x1dffaf(0x1b5)],_0x2dec97[_0x1dffaf(0x1c0)]=_0x36c72e['width'],await _0x3c1f6f['render']({'canvasContext':_0x4ddbde,'viewport':_0x36c72e})[_0x1dffaf(0x212)];const _0x392996=await new Promise(_0x5b4779=>_0x2dec97[_0x1dffaf(0x1e5)](_0x4d3177=>_0x5b4779(_0x4d3177),'image/jpeg',QUALITY_LEVELS['pdf'])),_0x144e28=await _0x392996['arrayBuffer'](),_0x5eebe1=await _0x5ab122[_0x1dffaf(0x1fc)](_0x144e28),_0x32c8ef=_0x5ab122[_0x1dffaf(0x1f9)]([_0x5eebe1[_0x1dffaf(0x1c0)],_0x5eebe1[_0x1dffaf(0x1b5)]]);_0x32c8ef[_0x1dffaf(0x204)](_0x5eebe1,{'x':0x0,'y':0x0,'width':_0x5eebe1[_0x1dffaf(0x1c0)],'height':_0x5eebe1[_0x1dffaf(0x1b5)]});}const _0x4a648a=await _0x5ab122['save']();return new Blob([_0x4a648a],{'type':_0x1dffaf(0x1cd)});}catch(_0x5961ac){console['error'](_0x1dffaf(0x1d7),_0x5961ac);throw new Error('PDF\x20compression\x20failed:\x20'+(_0x5961ac[_0x1dffaf(0x1f4)]||'Unknown\x20error'));}}async function handleFile(_0x5ef832){const _0x4a083b=_0x3f24;hideResults(),hideError();if(!validateFile(_0x5ef832))return;showLoader(),currentFileType=_0x5ef832['type'];try{let _0x1f9651,_0x2a54f2,_0x574e46;if(_0x5ef832[_0x4a083b(0x1d9)]===_0x4a083b(0x1cd))_0x1f9651=await compressPDF(_0x5ef832),_0x2a54f2=_0x5ef832[_0x4a083b(0x208)],_0x574e46=_0x1f9651[_0x4a083b(0x208)];else{const _0x31c32b=await compressImage(_0x5ef832);_0x1f9651=_0x31c32b[_0x4a083b(0x1c9)],_0x2a54f2=_0x31c32b[_0x4a083b(0x20f)],_0x574e46=_0x31c32b[_0x4a083b(0x1e0)];}if(_0x574e46>=_0x2a54f2)throw new Error(_0x4a083b(0x20a));compressedFile=_0x1f9651,originalFileSize=_0x2a54f2,compressedFileSize=_0x574e46,showResults(),showPreview();}catch(_0x109289){console['error'](_0x4a083b(0x1ef),_0x109289),showError(_0x4a083b(0x1e2)+(_0x109289[_0x4a083b(0x1f4)]||_0x4a083b(0x1ec)));}finally{hideLoader();}}function formatSize(_0x216900){const _0x4fd46a=_0x3f24;if(_0x216900>=0xf4240)return(_0x216900/0xf4240)['toFixed'](0x1)+'\x20MB';if(_0x216900>=0x3e8)return(_0x216900/0x3e8)['toFixed'](0x0)+_0x4fd46a(0x1cf);return _0x216900+'\x20B';}function downloadCompressedFile(){const _0x240233=_0x3f24;if(!compressedFile)return;const _0x3ce63=document['createElement']('a'),_0x1d1968=currentFileType==='application/pdf'?_0x240233(0x1e1):currentFileType==='image/png'?_0x240233(0x1bd):'jpg';_0x3ce63[_0x240233(0x1d2)]='slimfile-'+Date[_0x240233(0x1f3)]()+'.'+_0x1d1968,_0x3ce63[_0x240233(0x1c6)]=URL[_0x240233(0x1b9)](compressedFile),_0x3ce63['click'](),URL[_0x240233(0x206)](_0x3ce63['href']);}function showLoader(){const _0x4c5842=_0x3f24;document[_0x4c5842(0x1e6)](_0x4c5842(0x20c))[_0x4c5842(0x1b6)]=![];}function hideLoader(){const _0x39abf5=_0x3f24;document[_0x39abf5(0x1e6)](_0x39abf5(0x20c))['hidden']=!![];}function showError(_0xd74590){const _0x5c9648=_0x3f24,_0x1485c1=document['getElementById'](_0x5c9648(0x1d0)),_0x32cba5=_0x1485c1[_0x5c9648(0x1de)](_0x5c9648(0x1b7));_0x32cba5['textContent']=_0xd74590,_0x1485c1['hidden']=![];}function hideError(){const _0x1c1084=_0x3f24;document[_0x1c1084(0x1e6)](_0x1c1084(0x1d0))[_0x1c1084(0x1b6)]=!![];}function _0x3f24(_0x32d49f,_0x34d56a){const _0x4226ce=_0x4226();return _0x3f24=function(_0x3f24dc,_0x44f6db){_0x3f24dc=_0x3f24dc-0x1b5;let _0x47a733=_0x4226ce[_0x3f24dc];return _0x47a733;},_0x3f24(_0x32d49f,_0x34d56a);}function showResults(){const _0x3f4375=_0x3f24,_0x2d55fa=document[_0x3f4375(0x1e6)](_0x3f4375(0x1e8)),_0x1e3e3d=document[_0x3f4375(0x1e6)]('statsContent'),_0x35259a=document[_0x3f4375(0x1e6)](_0x3f4375(0x1d4));_0x2d55fa[_0x3f4375(0x1b6)]=![],_0x35259a[_0x3f4375(0x1c2)]=currentFileType==='application/pdf'?_0x3f4375(0x1c3):_0x3f4375(0x1d6);const _0x3b543e=((0x1-compressedFileSize/originalFileSize)*0x64)[_0x3f4375(0x1e9)](0x1);_0x1e3e3d[_0x3f4375(0x1ff)]=_0x3f4375(0x20d)+formatSize(originalFileSize)+_0x3f4375(0x1e3)+formatSize(compressedFileSize)+_0x3f4375(0x1fe)+_0x3b543e+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function hideResults(){const _0x4052f5=_0x3f24;document['getElementById'](_0x4052f5(0x1e8))[_0x4052f5(0x1b6)]=!![],document[_0x4052f5(0x1e6)]('preview')[_0x4052f5(0x1ca)][_0x4052f5(0x1ce)]='none',document[_0x4052f5(0x1e6)]('pdfPreview')[_0x4052f5(0x1ca)]['display']=_0x4052f5(0x210),URL[_0x4052f5(0x206)](document[_0x4052f5(0x1e6)](_0x4052f5(0x1fa))[_0x4052f5(0x1bc)]),URL[_0x4052f5(0x206)](document[_0x4052f5(0x1e6)](_0x4052f5(0x1d5))[_0x4052f5(0x1bc)]),compressedFile=null,originalFileSize=0x0,compressedFileSize=0x0,currentFileType=null;}function showPreview(){const _0x3b8ccd=_0x3f24;if(!compressedFile)return;const _0x3ef1aa=document[_0x3b8ccd(0x1e6)](_0x3b8ccd(0x1fa)),_0x4f1a7e=document['getElementById'](_0x3b8ccd(0x1d5));_0x3ef1aa[_0x3b8ccd(0x1ca)][_0x3b8ccd(0x1ce)]=_0x3b8ccd(0x210),_0x4f1a7e[_0x3b8ccd(0x1ca)][_0x3b8ccd(0x1ce)]='none';const _0x1f174e=URL[_0x3b8ccd(0x1b9)](compressedFile);currentFileType===_0x3b8ccd(0x1cd)?(_0x4f1a7e[_0x3b8ccd(0x1bc)]=_0x1f174e,_0x4f1a7e[_0x3b8ccd(0x1ca)][_0x3b8ccd(0x1ce)]=_0x3b8ccd(0x1f1)):(_0x3ef1aa['src']=_0x1f174e,_0x3ef1aa['style']['display']=_0x3b8ccd(0x1f1));}
